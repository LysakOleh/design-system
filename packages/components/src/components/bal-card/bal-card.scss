@use 'sass:math';

@import 'bal-card.vars';

bal-card,
.bal-card {
  display: block;

  &.is-flat {
    box-shadow: none;
  }

  @include mobile() {
    &.is-flat-mobile {
      box-shadow: none !important;
    }
  }

  &.is-square {
    border-radius: 0;
  }

  &.has-border {
    border: 2px solid $border;
  }

  &.is-clickable {
    transition: border 150ms ease-out, transform 150ms ease-out;

    &:active,
    &:hover {
      box-shadow: $shadow-hover;
      transform: translate3d(0, -2px, 0);
    }

    &:active {
      outline: 1px solid $blue-2;
    }
  }

  &.is-selected {
    background: $blue-0;
  }
}

bal-card-title,
bal-card-subtitle,
bal-card-content,
bal-card-actions {
  display: block;
  position: static;
}

bal-card-content {
  font-family: $family-primary;
  word-break: break-word;
  font-size: $size-5;
  line-height: $line-height-5;
}

bal-card {
  & > :not(bal-badge):not(bal-tag):first-child {
    padding-top: 20px;
  }

  & > :not(bal-badge):not(bal-tag):last-child {
    padding-bottom: 20px;
  }

  & > bal-badge + bal-card-title,
  & > bal-badge + bal-card-content,
  & > bal-tag + bal-card-title,
  & > bal-tag + bal-card-content,
  & > bal-card-title + bal-card-content,
  & > bal-card-subtitle + bal-card-content,
  & > bal-card-actions {
    padding-top: 20px;
  }

  & > bal-accordion {
    padding-bottom: 0 !important;
  }
}

bal-card-title {
  bal-tag-group,
  .bal-tag-group,
  bal-button-group,
  .bal-button-group,
  .field.is-grouped {
    margin-top: 8px;
  }
}

@include tablet() {
  bal-card-title {
    bal-tag-group,
    .bal-tag-group {
      display: inline-flex;
      vertical-align: bottom;
    }
  }
}

@include desktop() {
  bal-card {
    & > :not(bal-badge):not(bal-tag):first-child {
      padding-top: 24px;
    }

    & > :not(bal-badge):not(bal-tag):last-child {
      padding-bottom: 24px;
    }

    & > bal-badge + bal-card-title,
    & > bal-badge + bal-card-content,
    & > bal-tag + bal-card-title,
    & > bal-tag + bal-card-content,
    & > bal-card-title + bal-card-content,
    & > bal-card-subtitle + bal-card-content,
    & > bal-card-actions {
      padding-top: 24px;
    }

    & > bal-accordion {
      padding-bottom: 0 !important;
    }

    bal-card-title {
      .title {
        display: flex;
        gap: 8px;
        width: 100%;
        align-items: flex-start;
        justify-content: flex-start;
      }

      bal-tag-group,
      .bal-tag-group,
      bal-button-group,
      .bal-button-group,
      .field.is-grouped {
        display: inline-flex;
        margin-top: 0;
      }

      bal-button-group,
      .bal-button-group,
      .field.is-grouped {
        flex: 1;
        margin-top: -7px;
      }

      bal-tag-group,
      .bal-tag-group {
        margin-top: 5px;
      }
    }
  }
}

.column bal-card:not(.has-height-auto),
.column bal-card:not(.has-height-auto) bal-card-content,
.column bal-card:not(.has-height-auto) bal-card-content > .is-flex {
  height: 100%;
}
